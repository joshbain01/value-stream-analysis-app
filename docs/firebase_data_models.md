# Firebase Data Models

This document describes the structure of the data stored in Firebase Firestore for the Value Stream Mapping App.

## Collections

### `valueStreamMaps`

This is the primary collection, where each document represents a single value stream map.

**Document ID:** Auto-generated by Firestore (e.g., `docRef.id`)

**Fields:**

-   `name` (string): The name of the value stream map.
-   `metrics` (map, optional): Contains high-level metrics associated with the map.
    -   `revenue` (number): Revenue metric.
    -   `inventory` (number): Inventory metric.
    -   `operatingExpenses` (number): Operating expenses metric.
-   `steps` (array of maps, optional): An array of process step objects within this map.

#### Example `valueStreamMaps` Document:

```json
{
  "name": "Order Fulfillment Process",
  "metrics": {
    "revenue": 100000,
    "inventory": 5000,
    "operatingExpenses": 30000
  },
  "steps": [
    {
      "name": "Receive Order",
      "time": 10,
      "employeeFunction": "Sales",
      "risks": [
        {
          "description": "Incorrect order details",
          "timeImpact": 5,
          "probability": 0.1,
          "cost": 100
        }
      ]
    },
    {
      "name": "Process Payment",
      "time": 5,
      "employeeFunction": "Finance",
      "risks": []
    }
  ]
}
```

## Nested Data Structures

### Process Step Object

Each object within the `steps` array of a `valueStreamMaps` document represents a single process step.

**Fields:**

-   `name` (string): The name of the process step.
-   `time` (number): The time taken for this step in minutes.
-   `employeeFunction` (string): The function or role of the employee performing this step.
-   `risks` (array of maps, optional): An array of risk objects associated with this step.

### Risk Object

Each object within the `risks` array of a Process Step Object represents a potential risk.

**Fields:**

-   `description` (string): A description of the risk.
-   `timeImpact` (number): The time impact of the risk in minutes.
-   `probability` (number): The probability of the risk occurring (e.g., 0.1 for 10%).
-   `cost` (number): The financial cost associated with the risk.

